{{/*
this: struct
path: {{replace (render "java/package.name" this.Package) "." "/"}}/{{this.Name}}.java
*/}}

{{- /* Overrides "next/java/struct": add package and imports before struct */ -}}
{{- define "java/struct" -}}
package {{render "java/package.name" .Package}};

{{next .Decl.File.Imports}}
{{super .}}
{{- end -}}

{{- /* Overrides "next/java/struct.fields": add method 'MessageType' for each message after fields */ -}}
{{- define "java/struct.fields" -}}
{{- super .}}
{{- if .Struct.Annotations.message}}

    public static int MessageType() { return {{.Struct.Annotations.message.type}}; }
{{- end}}
{{- end -}}

{{head}}

{{next this}}